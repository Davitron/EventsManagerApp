webpackHotUpdate(0,{83:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _axios = __webpack_require__(57);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _universalCookie = __webpack_require__(100);\n\nvar _universalCookie2 = _interopRequireDefault(_universalCookie);\n\nvar _mainActionTypes = __webpack_require__(134);\n\nvar _mainActionTypes2 = _interopRequireDefault(_mainActionTypes);\n\nvar _dispatch = __webpack_require__(136);\n\nvar _dispatch2 = _interopRequireDefault(_dispatch);\n\nvar _logger = __webpack_require__(33);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _toast = __webpack_require__(37);\n\nvar _toast2 = _interopRequireDefault(_toast);\n\nvar _history = __webpack_require__(24);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _imageUpload = __webpack_require__(270);\n\nvar _imageUpload2 = _interopRequireDefault(_imageUpload);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar EVENT_BASE_URL = 'api/v1/events';\n\nvar cookies = new _universalCookie2.default();\n// const token = cookies.get('jwt-events-manager');\n\n\n/**\n *\n */\n\nvar EventActions = function () {\n  function EventActions() {\n    _classCallCheck(this, EventActions);\n  }\n\n  _createClass(EventActions, null, [{\n    key: 'getAll',\n\n    /**\n     *@returns {void}\n     * this action is handles fetching all events\n     */\n    value: function getAll() {\n      return function (dispatch) {\n        var token = cookies.get('jwt-events-manager');\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_REQUEST, null));\n        (0, _axios2.default)({\n          method: 'GET',\n          url: '/api/v1/events',\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          _toast2.default.success(response.data.message);\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_SUCCESS, response.data));\n        }).catch(function (error) {\n          // console.log(error.response);\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_FAILED, error.response.data));\n        });\n      };\n    }\n\n    /**\n     *@param {number} eventId - The Id of the center to fetch\n     *@returns {void}\n     *\n     */\n\n  }, {\n    key: 'getEvent',\n    value: function getEvent(eventId) {\n      var token = cookies.get('jwt-events-manager');\n      return function (dispatch) {\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.GET_REQUEST, null));\n        (0, _axios2.default)({\n          method: 'GET',\n          url: '/api/v1/events/' + eventId,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          console.log(response);\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GET_SUCCESS, response.data));\n        }).catch(function (error) {\n          var err = error.response.data;\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GET_FAILED, err));\n        });\n      };\n    }\n\n    /**\n     *@param {number} centerId\n     *@returns {void}\n     *\n     */\n\n  }, {\n    key: 'getPendingEvent',\n    value: function getPendingEvent(centerId) {\n      return function (dispatch) {\n        var token = cookies.get('jwt-events-manager');\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_REQUEST, null));\n        (0, _axios2.default)({\n          method: 'GET',\n          url: '/api/v1/events/pending/' + centerId,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          _logger2.default.log(response.data);\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_SUCCESS, response.data));\n          if (response.data.pendingEvents.length === 0) {\n            _toast2.default.info('There are no pending events for this center.');\n          }\n        }).catch(function (error) {\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_FAILED, error.response.data));\n        });\n      };\n    }\n\n    /**\n     *@param {number} centerId\n     *@returns {void}\n     */\n\n  }, {\n    key: 'getUpcomingEvent',\n    value: function getUpcomingEvent(centerId) {\n      var token = cookies.get('jwt-events-manager');\n      return function (dispatch) {\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_REQUEST, null));\n        (0, _axios2.default)({\n          method: 'GET',\n          url: '/api/v1/events/upcoming/' + centerId,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          _logger2.default.log(response.data);\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_SUCCESS, response.data));\n        }).catch(function (error) {\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.GETALL_FAILED, error.response.data));\n        });\n      };\n    }\n\n    /**\n     *\n     * @param {object} event\n     * @param {string} token\n     * @param {function} dispatch\n     * @return {void}\n     */\n\n  }, {\n    key: 'handleCreateEvent',\n    value: function handleCreateEvent(event, token, dispatch) {\n      dispatch(_dispatch2.default.action(_mainActionTypes2.default.CREATE_REQUEST, event));\n      (0, _axios2.default)({\n        method: 'POST',\n        url: '/api/v1/events',\n        headers: {\n          'x-access-token': token\n        },\n        data: event\n      }).then(function (response) {\n        var message = response.data.message;\n\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.CREATE_SUCCESS, message));\n        _toast2.default.success(message);\n      }).catch(function (error) {\n        var message = error.response.data.message;\n\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.CREATE_FAILED, message));\n        _toast2.default.error(message);\n      });\n    }\n\n    /**\n     *\n     * @param {object} newEvent\n     * @returns {void}\n     *\n     */\n\n  }, {\n    key: 'createEvent',\n    value: function createEvent(newEvent) {\n      var token = cookies.get('jwt-events-manager');\n      return function (dispatch) {\n        if (newEvent.image.name) {\n          (0, _imageUpload2.default)(newEvent.image).then(function (imageUrl) {\n            newEvent.image = imageUrl;\n            EventActions.handleCreateEvent(newEvent, token, dispatch);\n          }).catch(function (error) {\n            _toast2.default.error('Image upload error');\n          });\n        } else {\n          EventActions.handleCreateEvent(newEvent, token, dispatch);\n        }\n      };\n    }\n\n    /**\n    *\n    * @param {object} eventObj\n    * @param {token} token\n    * @param {function} dispatch\n    * @returns {void}\n    */\n\n  }, {\n    key: 'handleEventUpdate',\n    value: function handleEventUpdate(eventObj, token, dispatch) {\n      dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_REQUEST, eventObj));\n      return (0, _axios2.default)({\n        method: 'PUT',\n        url: '/api/v1/events/' + eventObj.id,\n        headers: {\n          'x-access-token': token\n        },\n        data: eventObj\n      }).then(function (response) {\n        _toast2.default.success(response.data.message);\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_SUCCESS, response.data.message));\n      }).then(function () {\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.RESET_STATE, null));\n      }).catch(function (error) {\n        var message = error.response.data.message;\n\n        _toast2.default.error(message);\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_FAILED, message));\n      });\n    }\n\n    /**\n     *\n     * @param {object} eventObj\n     * @returns {void}\n     * this action is handles updating a event\n     */\n\n  }, {\n    key: 'updateEvent',\n    value: function updateEvent(eventObj) {\n      var token = cookies.get('jwt-events-manager');\n      return function (dispatch) {\n        if (eventObj.image !== eventObj.newImage) {\n          (0, _imageUpload2.default)(eventObj.newImage).then(function (imageUrl) {\n            eventObj.image = imageUrl;\n            EventActions.handleEventUpdate(eventObj, token, dispatch);\n          });\n        } else {\n          EventActions.handleEventUpdate(eventObj, token, dispatch);\n        }\n      };\n    }\n\n    /**\n     *\n     * @param {number} eventId\n     * @returns {void}\n     * this action is handles updating a event\n     */\n\n  }, {\n    key: 'approveEvent',\n    value: function approveEvent(eventId) {\n      return function (dispatch) {\n        var token = cookies.get('jwt-events-manager');\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_REQUEST, eventId));\n        (0, _axios2.default)({\n          method: 'PUT',\n          url: '/api/v1/events/approve/' + eventId,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          var message = response.data.message;\n\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_SUCCESS, message));\n          _toast2.default.success(message);\n        }).then(function () {\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.RESET_STATE, null));\n        }).catch(function (error) {\n          var message = error.response.data.message;\n\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_FAILED, message));\n          _toast2.default.error(message);\n        });\n      };\n    }\n\n    /**\n     *\n     * @param {number} eventId\n     * @returns {void}\n     * this action is handles updating a event\n     */\n\n  }, {\n    key: 'rejectEvent',\n    value: function rejectEvent(eventId) {\n      return function (dispatch) {\n        var token = cookies.get('jwt-events-manager');\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_REQUEST, eventId));\n        (0, _axios2.default)({\n          method: 'PUT',\n          url: '/api/v1/events/reject/' + eventId,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          var message = response.data.message;\n\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_SUCCESS, message));\n          _toast2.default.success(message);\n        }).then(function () {\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.RESET_STATE, null));\n        }).catch(function (error) {\n          var message = error.response.data.message;\n\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.UPDATE_FAILED, message));\n          _toast2.default.error(message);\n        });\n      };\n    }\n\n    /**\n     *\n     * @param {number} id\n     * @returns {void}\n     * this action is handles deleting a event\n    */\n\n  }, {\n    key: 'deleteEvent',\n    value: function deleteEvent(id) {\n      return function (dispatch) {\n        var token = cookies.get('jwt-events-manager');\n        dispatch(_dispatch2.default.action(_mainActionTypes2.default.DELETE_REQUEST, id));\n        (0, _axios2.default)({\n          method: 'DELETE',\n          url: '/api/v1/events/' + id,\n          headers: {\n            'x-access-token': token\n          }\n        }).then(function (response) {\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.DELETE_SUCCESS, response.data));\n          _toast2.default.success(response.data.message);\n        }).catch(function (error) {\n          var message = error.response.data.message;\n\n          dispatch(_dispatch2.default.action(_mainActionTypes2.default.DELETE_FAILED, message));\n          _toast2.default.error(message);\n        });\n      };\n    }\n  }]);\n\n  return EventActions;\n}();\n\nexports.default = EventActions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL2FjdGlvbnMvZXZlbnQtYWN0aW9uLmpzPzc2YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBTSxpQkFBaUI7O0FBRXZCLElBQU0sVUFBVSxzQkFBaEI7QUFDQTs7O0FBR0E7Ozs7Ozs7Ozs7U0FJRTs7Ozs7OzZCQUtFO2FBQU8sVUFBQyxVQUNOO1lBQU0sUUFBUSxRQUFRLElBQ3RCO2lCQUFTLG1CQUFXLE9BQU8sMEJBQWUsZ0JBQzFDOztrQkFFRTtlQUNBOzs4QkFDb0I7QUFBbEI7QUFIRixXQU1DLEtBQUssVUFBQyxVQUNMOzBCQUFNLFFBQVEsU0FBUyxLQUN2QjttQkFBUyxtQkFBVyxPQUFPLDBCQUFlLGdCQUFnQixTQUMzRDtBQVZILFdBV0csTUFBTSxVQUFDLE9BQ047QUFDQTttQkFBUyxtQkFBVyxPQUFPLDBCQUFlLGVBQWUsTUFBTSxTQUNoRTtBQUNKO0FBQ0Y7QUFFRDs7Ozs7Ozs7OztzQ0FNRTtVQUFNLFFBQVEsUUFBUSxJQUN0QjthQUFPLFVBQUMsVUFDTjtpQkFBUyxtQkFBVyxPQUFPLDBCQUFlLGFBQzFDOztrQkFFRTttQ0FDQTs7OEJBQ29CO0FBQWxCO0FBSEYsV0FNQyxLQUFLLFVBQUMsVUFDTDtrQkFBUSxJQUNSO21CQUFTLG1CQUFXLE9BQU8sMEJBQWUsYUFBYSxTQUN4RDtBQVZILFdBV0csTUFBTSxVQUFDLE9BQ047Y0FBTSxNQUFNLE1BQU0sU0FDbEI7bUJBQVMsbUJBQVcsT0FBTywwQkFBZSxZQUMzQztBQUNKO0FBQ0Y7QUFFRDs7Ozs7Ozs7Ozs4Q0FNRTthQUFPLFVBQUMsVUFDTjtZQUFNLFFBQVEsUUFBUSxJQUN0QjtpQkFBUyxtQkFBVyxPQUFPLDBCQUFlLGdCQUMxQzs7a0JBRUU7MkNBQ0E7OzhCQUNvQjtB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VyxPQUFPLDBCQUFlLGVBQzFDOzBCQUFNLE1BQ1A7QUFDSjtBQUNGO0FBRUQ7Ozs7Ozs7Ozs7O3lDQU9FO2FBQU8sVUFBQyxVQUNOO1lBQU0sUUFBUSxRQUFRLElBQ3RCO2lCQUFTLG1CQUFXLE9BQU8sMEJBQWUsZ0JBQzFDOztrQkFFRTswQ0FDQTs7OEJBQ29CO0FBQWxCO0FBSEYsV0FNQyxLQUFLLFVBQUMsVUFBYTtjQUNWLFVBQVksU0FBUyxLQUM3Qjs7bUJBQVMsbUJBQVcsT0FBTywwQkFBZSxnQkFDMUM7MEJBQU0sUUFDUDtBQVhILFdBWUcsS0FBSyxZQUNKO21CQUFTLG1CQUFXLE9BQU8sMEJBQWUsYUFDM0M7QUFkSCxXQWVHLE1BQU0sVUFBQyxPQUFVO2NBQ1IsVUFBWSxNQUFNLFNBQVMsS0FDbkM7O21CQUFTLG1CQUFXLE9BQU8sMEJBQWUsZUFDMUM7MEJBQU0sTUFDUDtBQUNKO0FBQ0Y7QUFFRDs7Ozs7Ozs7Ozs7b0NBT0U7YUFBTyxVQUFDLFVBQ047WUFBTSxRQUFRLFFBQVEsSUFDdEI7aUJBQVMsbUJBQVcsT0FBTywwQkFBZSxnQkFDMUM7O2tCQUVFO21DQUNBOzs4QkFDb0I7QUFBbEI7QUFIRixXQU1DLEtBQUssVUFBQyxVQUNMO21CQUFTLG1CQUFXLE9BQU8sMEJBQWUsZ0JBQWdCLFNBQzFEOzBCQUFNLFFBQVEsU0FBUyxLQUN4QjtBQVZILFdBV0csTUFBTSxVQUFDLE9BQVU7Y0FDUixVQUFZLE1BQU0sU0FBUyxLQUNuQzs7bUJBQVMsbUJBQVcsT0FBTywwQkFBZSxlQUMxQzswQkFBTSxNQUNQO0FBQ0o7QUFDRiIsImZpbGUiOiI4My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgQ29va2llcyBmcm9tICd1bml2ZXJzYWwtY29va2llJztcbmltcG9ydCBtYWluQWN0aW9uVHlwZSBmcm9tICcuL2FjdGlvblR5cGVzL21haW4tYWN0aW9uLXR5cGVzJztcbmltcG9ydCBEaXNwYXRjaGVyIGZyb20gJy4uL2hlbHBlcnMvZGlzcGF0Y2gnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi9oZWxwZXJzL2xvZ2dlcic7XG5pbXBvcnQgVG9hc3QgZnJvbSAnLi4vaGVscGVycy90b2FzdCc7XG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oZWxwZXJzL2hpc3RvcnknO1xuaW1wb3J0IGltYWdlVXBsb2FkIGZyb20gJy4uL2hlbHBlcnMvaW1hZ2UtdXBsb2FkJztcblxuXG5jb25zdCBFVkVOVF9CQVNFX1VSTCA9ICdhcGkvdjEvZXZlbnRzJztcblxuY29uc3QgY29va2llcyA9IG5ldyBDb29raWVzKCk7XG4vLyBjb25zdCB0b2tlbiA9IGNvb2tpZXMuZ2V0KCdqd3QtZXZlbnRzLW1hbmFnZXInKTtcblxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50QWN0aW9ucyB7XG4gIC8qKlxuICAgKkByZXR1cm5zIHt2b2lkfVxuICAgKiB0aGlzIGFjdGlvbiBpcyBoYW5kbGVzIGZldGNoaW5nIGFsbCBldmVudHNcbiAgICovXG4gIHN0YXRpYyBnZXRBbGwoKSB7XG4gICAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSBjb29raWVzLmdldCgnand0LWV2ZW50cy1tYW5hZ2VyJyk7XG4gICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5HRVRBTExfUkVRVUVTVCwgbnVsbCkpO1xuICAgICAgYXhpb3Moe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICcvYXBpL3YxL2V2ZW50cycsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiB0b2tlblxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBUb2FzdC5zdWNjZXNzKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuR0VUQUxMX1NVQ0NFU1MsIHJlc3BvbnNlLmRhdGEpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTtcbiAgICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5HRVRBTExfRkFJTEVELCBlcnJvci5yZXNwb25zZS5kYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICpAcGFyYW0ge251bWJlcn0gZXZlbnRJZCAtIFRoZSBJZCBvZiB0aGUgY2VudGVyIHRvIGZldGNoXG4gICAqQHJldHVybnMge3ZvaWR9XG4gICAqXG4gICAqL1xuICBzdGF0aWMgZ2V0RXZlbnQoZXZlbnRJZCkge1xuICAgIGNvbnN0IHRva2VuID0gY29va2llcy5nZXQoJ2p3dC1ldmVudHMtbWFuYWdlcicpO1xuICAgIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLkdFVF9SRVFVRVNULCBudWxsKSk7XG4gICAgICBheGlvcyh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogYC9hcGkvdjEvZXZlbnRzLyR7ZXZlbnRJZH1gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLkdFVF9TVUNDRVNTLCByZXNwb25zZS5kYXRhKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zdCBlcnIgPSBlcnJvci5yZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLkdFVF9GQUlMRUQsIGVycikpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqQHBhcmFtIHtudW1iZXJ9IGNlbnRlcklkXG4gICAqQHJldHVybnMge3ZvaWR9XG4gICAqXG4gICAqL1xuICBzdGF0aWMgZ2V0UGVuZGluZ0V2ZW50KGNlbnRlcklkKSB7XG4gICAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSBjb29raWVzLmdldCgnand0LWV2ZW50cy1tYW5hZ2VyJyk7XG4gICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5HRVRBTExfUkVRVUVTVCwgbnVsbCkpO1xuICAgICAgYXhpb3Moe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGAvYXBpL3YxL2V2ZW50cy9wZW5kaW5nLyR7Y2VudGVySWR9YCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IHRva2VuXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIExvZ2dlci5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuR0VUQUxMX1NVQ0NFU1MsIHJlc3BvbnNlLmRhdGEpKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5wZW5kaW5nRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgVG9hc3QuaW5mbygnVGhlcmUgYXJlIG5vIHBlbmRpbmcgZXZlbnRzIGZvciB0aGlzIGNlbnRlci4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5HRVRBTExfRkFJTEVELCBlcnJvci5yZXNwb25zZS5kYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICpAcGFyYW0ge251bWJlcn0gY2VudGVySWRcbiAgICpAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHN0YXRpYyBnZXRVcGNvbWluZ0V2ZW50KGNlbnRlcklkKSB7XG4gICAgY29uc3QgdG9rZW4gPSBjb29raWVzLmdldCgnand0LWV2ZW50cy1tYW5hZ2VyJyk7XG4gICAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuR0VUQUxMX1JFUVVFU1QsIG51bGwpKTtcbiAgICAgIGF4aW9zKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92MS9ldmVudHMvdXBjb21pbmcvJHtjZW50ZXJJZH1gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgTG9nZ2VyLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5HRVRBTExfU1VDQ0VTUywgcmVzcG9uc2UuZGF0YSkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuR0VUQUxMX0ZBSUxFRCwgZXJyb3IucmVzcG9uc2UuZGF0YSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlzcGF0Y2hcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHN0YXRpYyBoYW5kbGVDcmVhdGVFdmVudChldmVudCwgdG9rZW4sIGRpc3BhdGNoKSB7XG4gICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuQ1JFQVRFX1JFUVVFU1QsIGV2ZW50KSk7XG4gICAgYXhpb3Moe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICcvYXBpL3YxL2V2ZW50cycsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICd4LWFjY2Vzcy10b2tlbic6IHRva2VuXG4gICAgICB9LFxuICAgICAgZGF0YTogZXZlbnRcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuQ1JFQVRFX1NVQ0NFU1MsIG1lc3NhZ2UpKTtcbiAgICAgICAgVG9hc3Quc3VjY2VzcyhtZXNzYWdlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZXJyb3IucmVzcG9uc2UuZGF0YTtcbiAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuQ1JFQVRFX0ZBSUxFRCwgbWVzc2FnZSkpO1xuICAgICAgICBUb2FzdC5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5ld0V2ZW50XG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUV2ZW50KG5ld0V2ZW50KSB7XG4gICAgY29uc3QgdG9rZW4gPSBjb29raWVzLmdldCgnand0LWV2ZW50cy1tYW5hZ2VyJyk7XG4gICAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgICAgaWYgKG5ld0V2ZW50LmltYWdlLm5hbWUpIHtcbiAgICAgICAgaW1hZ2VVcGxvYWQobmV3RXZlbnQuaW1hZ2UpXG4gICAgICAgICAgLnRoZW4oKGltYWdlVXJsKSA9PiB7XG4gICAgICAgICAgICBuZXdFdmVudC5pbWFnZSA9IGltYWdlVXJsO1xuICAgICAgICAgICAgRXZlbnRBY3Rpb25zLmhhbmRsZUNyZWF0ZUV2ZW50KG5ld0V2ZW50LCB0b2tlbiwgZGlzcGF0Y2gpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgVG9hc3QuZXJyb3IoJ0ltYWdlIHVwbG9hZCBlcnJvcicpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRXZlbnRBY3Rpb25zLmhhbmRsZUNyZWF0ZUV2ZW50KG5ld0V2ZW50LCB0b2tlbiwgZGlzcGF0Y2gpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnRPYmpcbiAqIEBwYXJhbSB7dG9rZW59IHRva2VuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaXNwYXRjaFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbiAgc3RhdGljIGhhbmRsZUV2ZW50VXBkYXRlKGV2ZW50T2JqLCB0b2tlbiwgZGlzcGF0Y2gpIHtcbiAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5VUERBVEVfUkVRVUVTVCwgZXZlbnRPYmopKTtcbiAgICByZXR1cm4gYXhpb3Moe1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIHVybDogYC9hcGkvdjEvZXZlbnRzLyR7ZXZlbnRPYmouaWR9YCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogdG9rZW5cbiAgICAgIH0sXG4gICAgICBkYXRhOiBldmVudE9ialxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgVG9hc3Quc3VjY2VzcyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5VUERBVEVfU1VDQ0VTUywgcmVzcG9uc2UuZGF0YS5tZXNzYWdlKSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5SRVNFVF9TVEFURSwgbnVsbCkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlcnJvci5yZXNwb25zZS5kYXRhO1xuICAgICAgICBUb2FzdC5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuVVBEQVRFX0ZBSUxFRCwgbWVzc2FnZSkpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50T2JqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKiB0aGlzIGFjdGlvbiBpcyBoYW5kbGVzIHVwZGF0aW5nIGEgZXZlbnRcbiAgICovXG4gIHN0YXRpYyB1cGRhdGVFdmVudChldmVudE9iaikge1xuICAgIGNvbnN0IHRva2VuID0gY29va2llcy5nZXQoJ2p3dC1ldmVudHMtbWFuYWdlcicpO1xuICAgIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgIGlmIChldmVudE9iai5pbWFnZSAhPT0gZXZlbnRPYmoubmV3SW1hZ2UpIHtcbiAgICAgICAgaW1hZ2VVcGxvYWQoZXZlbnRPYmoubmV3SW1hZ2UpXG4gICAgICAgICAgLnRoZW4oKGltYWdlVXJsKSA9PiB7XG4gICAgICAgICAgICBldmVudE9iai5pbWFnZSA9IGltYWdlVXJsO1xuICAgICAgICAgICAgRXZlbnRBY3Rpb25zLmhhbmRsZUV2ZW50VXBkYXRlKGV2ZW50T2JqLCB0b2tlbiwgZGlzcGF0Y2gpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRXZlbnRBY3Rpb25zLmhhbmRsZUV2ZW50VXBkYXRlKGV2ZW50T2JqLCB0b2tlbiwgZGlzcGF0Y2gpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50SWRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqIHRoaXMgYWN0aW9uIGlzIGhhbmRsZXMgdXBkYXRpbmcgYSBldmVudFxuICAgKi9cbiAgc3RhdGljIGFwcHJvdmVFdmVudChldmVudElkKSB7XG4gICAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSBjb29raWVzLmdldCgnand0LWV2ZW50cy1tYW5hZ2VyJyk7XG4gICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5VUERBVEVfUkVRVUVTVCwgZXZlbnRJZCkpO1xuICAgICAgYXhpb3Moe1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICB1cmw6IGAvYXBpL3YxL2V2ZW50cy9hcHByb3ZlLyR7ZXZlbnRJZH1gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogdG9rZW5cbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5VUERBVEVfU1VDQ0VTUywgbWVzc2FnZSkpO1xuICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MobWVzc2FnZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChEaXNwYXRjaGVyLmFjdGlvbihtYWluQWN0aW9uVHlwZS5SRVNFVF9TVEFURSwgbnVsbCkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlcnJvci5yZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLlVQREFURV9GQUlMRUQsIG1lc3NhZ2UpKTtcbiAgICAgICAgICBUb2FzdC5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnRJZFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICogdGhpcyBhY3Rpb24gaXMgaGFuZGxlcyB1cGRhdGluZyBhIGV2ZW50XG4gICAqL1xuICBzdGF0aWMgcmVqZWN0RXZlbnQoZXZlbnRJZCkge1xuICAgIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IHRva2VuID0gY29va2llcy5nZXQoJ2p3dC1ldmVudHMtbWFuYWdlcicpO1xuICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuVVBEQVRFX1JFUVVFU1QsIGV2ZW50SWQpKTtcbiAgICAgIGF4aW9zKHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92MS9ldmVudHMvcmVqZWN0LyR7ZXZlbnRJZH1gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLlVQREFURV9TVUNDRVNTLCBtZXNzYWdlKSk7XG4gICAgICAgICAgVG9hc3Quc3VjY2VzcyhtZXNzYWdlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLlJFU0VUX1NUQVRFLCBudWxsKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVycm9yLnJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuVVBEQVRFX0ZBSUxFRCwgbWVzc2FnZSkpO1xuICAgICAgICAgIFRvYXN0LmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICogdGhpcyBhY3Rpb24gaXMgaGFuZGxlcyBkZWxldGluZyBhIGV2ZW50XG4gICovXG4gIHN0YXRpYyBkZWxldGVFdmVudChpZCkge1xuICAgIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IHRva2VuID0gY29va2llcy5nZXQoJ2p3dC1ldmVudHMtbWFuYWdlcicpO1xuICAgICAgZGlzcGF0Y2goRGlzcGF0Y2hlci5hY3Rpb24obWFpbkFjdGlvblR5cGUuREVMRVRFX1JFUVVFU1QsIGlkKSk7XG4gICAgICBheGlvcyh7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIHVybDogYC9hcGkvdjEvZXZlbnRzLyR7aWR9YCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IHRva2VuXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLkRFTEVURV9TVUNDRVNTLCByZXNwb25zZS5kYXRhKSk7XG4gICAgICAgICAgVG9hc3Quc3VjY2VzcyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlcnJvci5yZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRpc3BhdGNoKERpc3BhdGNoZXIuYWN0aW9uKG1haW5BY3Rpb25UeXBlLkRFTEVURV9GQUlMRUQsIG1lc3NhZ2UpKTtcbiAgICAgICAgICBUb2FzdC5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2xpZW50L3NyYy9hY3Rpb25zL2V2ZW50LWFjdGlvbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83\n")}});
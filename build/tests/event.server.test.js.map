{"version":3,"sources":["../../server/tests/event.server.test.js"],"names":["Centers","Center","use","token","notAdminToken","eventID","centerID","describe","it","done","request","post","end","err","res","should","have","status","body","be","an","send","email","password","Token","property","eql","set","name","stateId","address","hallCapacity","carParkCapacity","facilities","price","image","centerId","eventName","startDate","days","userId","message","errors","toString","createdEvent","id","get","metadata","data","event","put","newEvent","response","modifiedEvent","statusCode","delete","undefined","after","destroy","where"],"mappings":"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","file":"event.server.test.js","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport '../env.test';\nimport app from '../server';\nimport model from '../models';\n\nconst Centers = model.Center;\n\n\nchai.use(chaiHttp);\n\n\nlet token;\nlet notAdminToken; //eslint-disable-line\nlet eventID;\nlet centerID;\n\ndescribe('Test API', () => {\n  describe('GET /', () => {\n    // Testing for incorrect routes\n    it('Incorrect Routes should return HTTP 404', (done) => {\n      chai.request(app)\n        .post('/any/incorrect/route')\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.body.should.be.an('object');\n          done();\n        });\n    });\n  });\n\n  describe('Testing Api endpoints for event', () => {\n    it('should return HTTP 200 when email and password are correct', (done) => {\n      chai.request(app)\n        .post('/api/v1/users/login')\n        .send({\n          email: 'segunmatthews@outlook.com',\n          password: 'minerva'\n        })\n        .end((err, res) => {\n          token = res.body.Token;\n          res.should.have.status(200);\n          res.body.should.be.an('object');\n          res.body.should.have.property('message').eql('Authentication Is Successful!');\n          res.body.should.have.property('Token');\n          done();\n        });\n    });\n\n    it('Should return HTTP 201 with response object', (done) => {\n      chai.request(app)\n        .post('/api/v1/centers/')\n        .set('x-access-token', token)\n        .send({\n          name: 'Mock Center',\n          stateId: 1,\n          address: '7, xyz avenue, ikaja',\n          hallCapacity: '600',\n          carParkCapacity: '200',\n          facilities: ['swimming pool, projectors, cctv, vip lounges'],\n          price: '1200000',\n          image: 'test/image/url'\n        })\n        .end((err, res) => {\n          centerID = res.body.centerId;\n          res.should.have.status(201);\n          res.body.should.be.an('object');\n          res.body.should.have.property('message').eql('New Center Created');\n          res.body.should.have.property('centerId');\n          res.body.should.have.property('statusCode');\n          done();\n        });\n    });\n\n\n    describe('POST /api/v1/events', () => {\n      // Testing for creating an event\n      // ======INVALID REQUEST ===== //\n      it('Should return 400 and message for post without centerId', (done) => {\n        chai.request(app)\n          .post('/api/v1/events/')\n          .set('x-access-token', token)\n          .send({\n            eventName: 'The Wedding Party',\n            startDate: '21-09-1991',\n            days: 4,\n            userId: 5,\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.message.errors.should.have.property('centerId');\n            res.body.message.errors.centerId.should.be.an('array');\n            res.body.message.errors.centerId[0].should.eql('The centerId field is required.');\n            done();\n          });\n      });\n\n      it('Should return 400 and message for post without eventName', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            startDate: '21-09-1991',\n            days: 4,\n            userId: 5,\n            centerId: 4\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.message.errors.should.have.property('eventName');\n            res.body.message.errors.eventName.should.be.an('array');\n            res.body.message.errors.eventName[0].should.eql('The eventName field is required.');\n            done();\n          });\n      });\n\n      it('Should return 400 if days is not specified', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: '24',\n            eventName: 'The Wedding Party',\n            startDate: '21-09-2017',\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.should.have.property('message');\n            res.body.message.errors.should.have.property('days');\n            res.body.message.errors.days.should.be.an('array');\n            res.body.message.errors.days[0].should.eql('The days field is required.');\n            done();\n          });\n      });\n      it('Should return 400 and message for post without startDate', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            eventName: 'The Wedding Party',\n            days: 4,\n            userId: 5,\n            centerId: 4\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.message.errors.should.have.property('startDate');\n            res.body.message.errors.startDate.should.be.an('array');\n            res.body.message.errors.startDate[0].should.eql('The startDate field is required.');\n            done();\n          });\n      });\n\n      it('Should return 400 if centerId is not a number', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: 'bdhwvdhi',\n            eventName: 'The Wedding Party',\n            startDate: '2020-12-22',\n            days: '6',\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.have.property('message');\n            res.body.message.errors.should.have.property('centerId');\n            res.body.message.errors.centerId.should.be.an('array');\n            res.body.message.errors.centerId[0].should.eql('The centerId must be an integer.');\n            done();\n          });\n      });\n\n      it('Should return 400 if days is not a number', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: '24',\n            eventName: 'The Wedding Party',\n            startDate: '21-09-2017',\n            days: 'jwhvhwi',\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.message.should.have.property('errors');\n            res.body.message.errors.should.have.property('days');\n            res.body.message.errors.days.should.be.an('array');\n            res.body.message.errors.days[0].should.eql('The days must be a number.');\n            done();\n          });\n      });\n\n      it('Should return 400 if selected startDate is in the future', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: centerID,\n            eventName: 'The Wedding',\n            startDate: '1909-11-12',\n            days: '4',\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message').eql('Date must be in the future');\n            res.body.should.have.property('statusCode').eql(400);\n            done();\n          });\n      });\n\n      // ======VALID REQUEST ===== //\n      it('Should return 201 and event created for post if all request object properties exist', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: centerID.toString(),\n            eventName: 'The Wedding',\n            startDate: '2040-11-12',\n            days: '4',\n          })\n          .end((err, res) => {\n            eventID = res.body.createdEvent.id;\n            res.should.have.status(201);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message');\n            res.body.should.have.property('statusCode');\n            done();\n          });\n      });\n\n      it('Should return 400 if event date is already booked', (done) => {\n        chai.request(app)\n          .post('/api/v1/events')\n          .set('x-access-token', token)\n          .send({\n            centerId: centerID.toString(),\n            eventName: 'The Wedding',\n            startDate: '2040-11-11',\n            days: '4',\n          })\n          .end((err, res) => {\n            res.should.have.status(400);\n            res.body.should.be.an('object');\n            res.body.should.have.property('message').eql('The selected date is booked');\n            done();\n          });\n      });\n    });\n  });\n\n  describe('GET /api/v1/events', () => {\n    // Testing  to get all events\n    it('Should return 200 with an array of all events', (done) => {\n      chai.request(app)\n        .get('/api/v1/events')\n        .set('x-access-token', token)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.an('object');\n          res.body.should.have.property('message');\n          res.body.should.have.property('statusCode').eql(200);\n          res.body.should.have.property('data');\n          res.body.should.have.property('metadata');\n          res.body.metadata.should.be.an('object');\n          res.body.data.should.be.an('array');\n          done();\n        });\n    });\n  });\n\n  describe('GET /api/v1/events/:eventId', () => {\n    // Testing to get all centers\n    it('Should return 404 if eventId is not found', (done) => {\n      chai.request(app)\n        .get(`/api/v1/events/${-1}`)\n        .set('x-access-token', token)\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.body.should.be.an('object');\n          res.body.should.have.property('message');\n          res.body.message.should.eql('Event Not Found');\n          done();\n        });\n    });\n\n    // Testing to get all centers\n    it('Should return 400 if eventId is not a number', (done) => {\n      chai.request(app)\n        .get('/api/v1/events/bjfdljbd/')\n        .set('x-access-token', token)\n        .end((err, res) => {\n          res.should.have.status(400);\n          res.body.should.be.an('object');\n          res.body.should.have.property('message').eql('Invalid eventId');\n          done();\n        });\n    });\n    // Testing to get a single event\n    it('Should return 200 with event object requested for', (done) => {\n      chai.request(app)\n        .get(`/api/v1/events/${eventID}`)\n        .set('x-access-token', token)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.an('object');\n          res.body.should.have.property('event');\n          res.body.event.should.have.property('id');\n          res.body.event.should.have.property('eventName');\n          res.body.event.should.have.property('startDate');\n          res.body.event.should.have.property('endDate');\n          done();\n        });\n    });\n  });\n});\n\ndescribe('PUT /api/v1/events/:id', () => {\n  it('Should return 404 if event does not exist', (done) => {\n    chai.request(app)\n      .put(`/api/v1/events/${0}`)\n      .set('x-access-token', token)\n      .send({\n        centerId: centerID.toString(),\n        eventName: 'My Wedding',\n        startDate: '2040-12-12',\n        days: '4'\n      })\n      .end((err, res) => {\n        res.should.have.status(404);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message').eql('Event not found');\n        done();\n      });\n  });\n\n  it('Should return 400 if selected event date is in the past', (done) => {\n    chai.request(app)\n      .put(`/api/v1/events/${eventID}`)\n      .set('x-access-token', token)\n      .send({\n        centerId: centerID.toString(),\n        eventName: 'My Wedding',\n        startDate: '1999-12-12',\n        days: '4'\n      })\n      .end((err, res) => {\n        res.should.have.status(400);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message').eql('Date must be in the future');\n        done();\n      });\n  });\n\n  it('Should return 400 if days is not a string', (done) => {\n    chai.request(app)\n      .put(`/api/v1/events/${eventID}`)\n      .set('x-access-token', token)\n      .send({\n        centerId: centerID.toString(),\n        eventName: 'My Wedding',\n        startDate: '2022-12-12',\n        days: 'kwkwgwb'\n      })\n      .end((err, res) => {\n        res.should.have.status(400);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.message.should.have.property('errors');\n        res.body.message.errors.should.have.property('days');\n        res.body.message.errors.days.should.be.an('array');\n        res.body.message.errors.days[0].should.eql('The days must be a number.');\n        done();\n      });\n  });\n\n\n  it('Should return 200 with modified event', (done) => {\n    const newEvent = {\n      centerId: centerID.toString(),\n      eventName: 'My Wedding',\n      startDate: '2040-12-12',\n      days: 4\n    };\n    chai.request(app)\n      .put(`/api/v1/events/${eventID}`)\n      .set('x-access-token', token)\n      .send(newEvent)\n      .end((err, res) => {\n        const response = res.body.modifiedEvent;\n        res.should.have.status(200);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.should.have.property('modifiedEvent');\n        res.body.should.have.property('statusCode');\n        res.body.statusCode.should.eql(200);\n        response.eventName.should.eql(newEvent.eventName);\n        response.days.should.eql(newEvent.days);\n        response.centerId.should.eql(newEvent.centerId);\n        done();\n      });\n  });\n\n  it('Should return 200 with modified event', (done) => {\n    chai.request(app)\n      .put(`/api/v1/events/${eventID}`)\n      .set('x-access-token', token)\n      .send({})\n      .end((err, res) => {\n        res.should.have.status(200);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.should.have.property('modifiedEvent');\n        res.body.should.have.property('statusCode');\n        res.body.statusCode.should.eql(200);\n        done();\n      });\n  });\n\n  it('Should return 400 if eventId is not a number', (done) => {\n    chai.request(app)\n      .put('/api/v1/events/jdwvjhv/')\n      .set('x-access-token', token)\n      .send({\n        centerId: centerID.toString(),\n        eventName: 'My Wedding',\n        startDate: '2040-12-12',\n        days: '4'\n      })\n      .end((err, res) => {\n        res.should.have.status(400);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.should.have.property('statusCode');\n        res.body.statusCode.should.eql(400);\n        done();\n      });\n  });\n});\n\ndescribe('PUT /events/response/:eventId Admin response to events', () => {\n  it('Should return 404 if event does not exist', (done) => {\n    chai.request(app)\n      .put('/api/v1/events/response')\n      .set('x-access-token', token)\n      .send({\n        id: 0,\n        status: 'cancelled'\n      })\n      .end((err, res) => {\n        res.should.have.status(404);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message').eql('Event not found');\n        done();\n      });\n  });\n\n\n  it('Should return 200 with modified event', (done) => {\n    chai.request(app)\n      .put('/api/v1/events/response')\n      .set('x-access-token', token)\n      .send({\n        id: eventID,\n        status: 'cancelled'\n      })\n      .end((err, res) => {\n        res.should.have.status(200);\n        res.body.should.be.an('object');\n        done();\n      });\n  });\n\n  it('Should return 400 if eventId is not a number', (done) => {\n    chai.request(app)\n      .put('/api/v1/events/response')\n      .set('x-access-token', token)\n      .send({\n        id: 'gcgcgc',\n        status: 'cancelled'\n      })\n      .end((err, res) => {\n        res.should.have.status(400);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.should.have.property('statusCode');\n        res.body.statusCode.should.eql(400);\n        done();\n      });\n  });\n});\n\ndescribe('DELETE /api/v1/events/:id', () => {\n// Testing to modify an event\n  it('Should return 404 if event does not exist', (done) => {\n    chai.request(app)\n      .delete(`/api/v1/events/${-1}`)\n      .set('x-access-token', token)\n      .end((err, res) => {\n        res.should.have.status(404);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message').eql('Event does not exist');\n        done();\n      });\n  });\n\n  it('Should return 500 if eventId is not a number', (done) => {\n    chai.request(app)\n      .delete(`/api/v1/events/${undefined}/`)\n      .set('x-access-token', token)\n      .end((err, res) => {\n        res.should.have.status(400);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message');\n        res.body.should.have.property('statusCode');\n        res.body.statusCode.should.eql(400);\n        done();\n      });\n  });\n\n  it('Should return 200 with success message', (done) => {\n    chai.request(app)\n      .delete(`/api/v1/events/${eventID}`)\n      .set('x-access-token', token)\n      .end((err, res) => {\n        res.should.have.status(200);\n        res.body.should.be.an('object');\n        res.body.should.have.property('message').eql('Event is successfully  deleted');\n        done();\n      });\n  });\n  after((done) => {\n    Centers.destroy({\n      where: {\n        name: 'Mock Center'\n      }\n    });\n    done();\n  });\n});\n"]}
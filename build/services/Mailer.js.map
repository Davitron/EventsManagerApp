{"version":3,"sources":["../../server/services/Mailer.js"],"names":["load","mailTransport","createTransport","service","auth","user","process","env","EMAIL_ADDRESS","pass","EMAIL_PASSWORD","Mailer","mail","NODE_ENV","sendMail","err","info","console","log","toEmail","message","title","mailInfo","from","to","subject","html","useNodemailer"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;AAEA,iBAAOA,IAAP;;AAEA,IAAMC,gBAAgB,qBAAWC,eAAX,CAA2B;AAC/CC,WAAS,OADsC;AAE/CC,QAAM;AACJC,UAAMC,QAAQC,GAAR,CAAYC,aADd;AAEJC,UAAMH,QAAQC,GAAR,CAAYG;AAFd;AAFyC,CAA3B,CAAtB;;AAQA;;;;IAGqBC,M;;;;;;;;AACnB;;;;;kCAKcC,I,EAAM;AAClB,UAAIN,QAAQC,GAAR,CAAYM,QAAZ,KAAyB,aAAzB,IAA0CP,QAAQC,GAAR,CAAYM,QAAZ,KAAyB,YAAvE,EAAqF;AACnF,eAAOZ,cAAca,QAAd,CAAuBF,IAAvB,EAA6B,UAACG,GAAD,EAAMC,IAAN,EAAe;AACjD,cAAID,GAAJ,EAAS;AACP,kBAAMA,GAAN;AACD;AACDE,kBAAQC,GAAR,CAAY,cAAZ,EAJiD,CAIpB;AAC7B,iBAAO,cAAP;AACD,SANM,CAAP;AAOD;AACD,aAAO,IAAP;AACD;;AAED;;;;;;;;;;6BAOSC,O,EAASC,O,EAASC,K,EAAO;AAChC,UAAMC,WAAW;AACfC,cAAM,6BADS;AAEfC,YAAIL,OAFW;AAGfM,iBAASJ,KAHM;AAIfK,cAAMN;AAJS,OAAjB;;AAOA,aAAO,KAAKO,aAAL,CAAmBL,QAAnB,CAAP;AACD;;;;;;kBAnCkBX,M","file":"Mailer.js","sourcesContent":["import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\n\ndotenv.load();\n\nconst mailTransport = nodemailer.createTransport({\n  service: 'Gmail',\n  auth: {\n    user: process.env.EMAIL_ADDRESS,\n    pass: process.env.EMAIL_PASSWORD\n  }\n});\n\n/**\n *\n */\nexport default class Mailer {\n  /**\n   *\n   * @param {*} mail\n   * @returns {boolean} returns a boolean value indicating if mail was sent successfully or not\n   */\n  useNodemailer(mail) {\n    if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'production') {\n      return mailTransport.sendMail(mail, (err, info) => {\n        if (err) {\n          throw err;\n        }\n        console.log('Message Sent'); // eslint-disable-line\n        return 'Message Sent';\n      });\n    }\n    return null;\n  }\n\n  /**\n   *\n   * @param {*} toEmail\n   * @param {*} message\n   * @param {*} title\n   * @returns {*} sends mail\n   */\n  sendMail(toEmail, message, title) {\n    const mailInfo = {\n      from: 'matthews.segunapp@gmail.com',\n      to: toEmail,\n      subject: title,\n      html: message\n    };\n\n    return this.useNodemailer(mailInfo);\n  }\n}\n\n"]}